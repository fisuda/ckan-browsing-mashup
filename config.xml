<?xml version='1.0' encoding='UTF-8'?>
<mashup xmlns="http://wirecloud.conwet.fi.upm.es/ns/macdescription/1" vendor="CoNWeT" name="ckan-browsing" version="1.4">
  <details>
    <email>wirecloud@conwet.com</email>
    <title>CKAN Browsing</title>
    <image>images/catalogue.png</image>
    <description>Browse any CKAN portal using this dasbhard</description>
    <longdescription>DESCRIPTION.md</longdescription>
    <authors>Álvaro Arranz García</authors>
  </details>
  <structure>
    <tab id="0" name="Tab">
      <resource id="53" name="map-viewer" title="Map Viewer" vendor="CoNWeT" version="2.5.7">
        <position x="11" y="30" z="2"/>
        <rendering height="31" width="9" layout="0" minimized="true" fulldragboard="true"/>
        <preferencevalue name="centerPreference" value="Madrid"/>
        <preferencevalue name="zoomPreference" value="13"/>
        <preferencevalue name="radiusPreference" value="10"/>
        <preferencevalue name="initialZoom" value="13"/>
      </resource>
      <resource id="54" name="googlecharts" title="Google Charts" vendor="CoNWeT" version="1.0.2">
        <position x="13" y="0" z="0"/>
        <rendering height="30" width="7" layout="0" minimized="true" fulldragboard="true"/>
      </resource>
      <resource id="55" name="data-viewer-table" title="Data Viewer Table" vendor="CoNWeT" version="2.0.0">
        <position x="0" y="30" z="1"/>
        <rendering height="31" width="11" layout="0" minimized="true" fulldragboard="true"/>
      </resource>
      <resource id="56" name="ckan-resource-selector" title="CKAN Resource Selector" vendor="CoNWeT" version="1.0.5">
        <position x="0" y="0" z="3"/>
        <rendering height="30" width="7" layout="0" minimized="true" fulldragboard="true"/>
        <preferencevalue name="limit_rows" value="100"/>
        <preferencevalue name="auth_token"/>
        <preferencevalue name="ckan_server" value="https://data.lab.fiware.org"/>
      </resource>
      <resource id="57" name="ckan-graph-creator" title="CKAN Graph creator" vendor="CoNWeT" version="1.0.4">
        <position x="7" y="0" z="4"/>
        <rendering height="30" width="6" layout="0" minimized="true" fulldragboard="true"/>
      </resource>
    </tab>
    <wiring version="2.0">
      <operator id="1" name="ckan2poi" vendor="CoNWeT" version="1.0.1">
        <preferencevalue name="coordinates_attr" value="WKT"/>
        <preferencevalue name="marker-icon"/>
      </operator>
      <connection>
        <source endpoint="resource" id="56" type="widget"/>
        <target endpoint="entityInput" id="1" type="operator"/>
      </connection>
      <connection>
        <source endpoint="googlecharts-graph-config" id="57" type="widget"/>
        <target endpoint="input" id="54" type="widget"/>
      </connection>
      <connection>
        <source endpoint="resource" id="56" type="widget"/>
        <target endpoint="dataset" id="57" type="widget"/>
      </connection>
      <connection>
        <source endpoint="resource" id="56" type="widget"/>
        <target endpoint="dataset" id="55" type="widget"/>
      </connection>
      <connection>
        <source endpoint="poiOutput" id="1" type="operator"/>
        <target endpoint="poiInput" id="53" type="widget"/>
      </connection>
      <visualdescription>
        <component id="1" type="operator">
          <position x="548" y="522"/>
          <sources/>
          <targets/>
        </component>
        <component id="55" type="widget">
          <position x="684" y="84"/>
          <sources/>
          <targets/>
        </component>
        <component id="54" type="widget">
          <position x="926" y="260"/>
          <sources/>
          <targets/>
        </component>
        <component id="57" type="widget">
          <position x="520" y="238"/>
          <sources/>
          <targets/>
        </component>
        <component id="56" type="widget">
          <position x="166" y="127"/>
          <sources/>
          <targets/>
        </component>
        <component id="53" type="widget">
          <position x="926" y="433"/>
          <sources/>
          <targets/>
        </component>
        <connection sourcename="operator/1/poiOutput" targetname="widget/53/poiInput"/>
        <connection sourcename="widget/56/resource" targetname="widget/55/dataset">
          <sourcehandle x="150" y="0"/>
          <targethandle x="-150" y="0"/>
        </connection>
        <connection sourcename="widget/56/resource" targetname="widget/57/dataset">
          <sourcehandle x="86" y="0"/>
          <targethandle x="-86" y="0"/>
        </connection>
        <connection sourcename="widget/57/googlecharts-graph-config" targetname="widget/54/input">
          <sourcehandle x="138" y="0"/>
          <targethandle x="-138" y="0"/>
        </connection>
        <connection sourcename="widget/56/resource" targetname="operator/1/entityInput">
          <sourcehandle x="150" y="0"/>
          <targethandle x="-150" y="0"/>
        </connection>
      </visualdescription>
    </wiring>
  </structure>
  <embedded>
    <resource name="data-viewer-table" src="macs/CoNWeT_data-viewer-table_2.0.0.wgt" vendor="CoNWeT" version="2.0.0"/>
    <resource name="map-viewer" src="macs/CoNWeT_map-viewer_2.5.7.wgt" vendor="CoNWeT" version="2.5.7"/>
    <resource name="ckan-graph-creator" src="macs/CoNWeT_ckan-graph-creator_1.0.4.wgt" vendor="CoNWeT" version="1.0.4"/>

    <resource name="ckan2poi" src="macs/CoNWeT_ckan2poi_1.0.1.wgt" vendor="CoNWeT" version="1.0.1"/>
    <resource name="googlecharts" src="macs/CoNWeT_googlecharts_1.0.2.wgt" vendor="CoNWeT" version="1.0.2"/>
    <resource name="flotr2-graph" src="macs/CoNWeT_flotr2-graph-widget_1.0.0.wgt" vendor="CoNWeT" version="1.0.0"/>
    <resource name="ckan-resource-selector" src="macs/CoNWeT_ckan-resource-selector_1.0.5.wgt" vendor="CoNWeT" version="1.0.5"/>

    <!-- Need to create workspaces -->
    <resource name="ckan-graph-creator-operator" src="macs/CoNWeT_ckan-graph-creator_operator_1.0.3.wgt" vendor="CoNWeT" version="1.0.3"/>
    <resource name="ckan-source" src="macs/CoNWeT_ckan-source_0.4.4.wgt" vendor="CoNWeT" version="0.4.4"/>
    <resource name="ckan-wirecloud-view-flotr2" src="macs/flotr2.wgt" vendor="CoNWeT" version="1.0.1"/>
    <resource name="ckan-wirecloud-view-google" src="macs/google.wgt" vendor="CoNWeT" version="1.0.1"/>

  </embedded>
  <wiring>
    <outputendpoint name="routeDescriptionOutput" type="text" label="Route Description" description="Route description step by step. It may be connected with Route Description widget." friendcode="routeDescription"/>
    <outputendpoint name="urlRouteMapOutput" type="text" label="URL Route Map" description="URL Route Map" friendcode="url"/>
    <outputendpoint name="addressOutput" type="text" label="Address" description="Address of a Google Map marker." friendcode="address"/>
    <outputendpoint name="utmCoordOutput" type="text" label="UTM Coordinates" description="UTM X, Y coordinates that is displayed in the map." friendcode="utmCoord"/>
    <outputendpoint name="decimalCoordOutput" type="text" label="Decimal Coordinates" description="Decimal X, Y coordinates that is displayed in the map." friendcode="decimalCoord"/>
    <outputendpoint name="poiOutput" type="text" label="PoI selected" description="A PoI has been selected on the map" friendcode="poi"/>
    <outputendpoint name="poiListOutput" type="text" label="PoI visibility change" description="Change PoI list inside the viewport" friendcode="poiList"/>
    <outputendpoint name="boundsOutput" type="text" label="Change Viewport" description="Change bounds of the current viewport." friendcode="viewport"/>
    <outputendpoint name="data_selected" type="text" label="Data Selected" description="Data Selection. See the documentation for more information" friendcode="googlecharts-graph-data-out"/>
    <outputendpoint name="resource" type="text" label="Resource" description="The resource (a JSON including the structure and the data)" friendcode="dataset"/>
    <outputendpoint name="flotr2-graph-config" type="text" label="Flotr2 Configuration" description="The configuration of your flotr2 graph" friendcode="flotr2-graph-data"/>
    <outputendpoint name="googlecharts-graph-config" type="text" label="Google Charts Configuration" description="The configuration of your Google Charts graph" friendcode="google-charts-data"/>
    <inputendpoint name="addressInput" type="text" label="Address" description="Address to be displayed on the map." actionlabel="Map Viewer Address" friendcode="address"/>
    <inputendpoint name="coordsInput" type="text" label="Coordinates" description="Google Map Marker will be show in this decimal coordinates." actionlabel="Map Viewer Coordinates" friendcode="Coords"/>
    <inputendpoint name="routeInput" type="text" label="Route" description="Google Maps route to be displayed on the map." actionlabel="Map Viewer Route" friendcode="route"/>
    <inputendpoint name="routeStepInput" type="text" label="Route Step" description="Detailed Step of a route. It may be connected with Route Description widget." actionlabel="Map Viewer Details Steps Route" friendcode="detailStep"/>
    <inputendpoint name="poiInput" type="text" label="Insert/Update PoI" description="Insert or update a Point of Interest." actionlabel="Map Viewer Insert/Update PoI" friendcode="poi"/>
    <inputendpoint name="deletePoiInput" type="text" label="Delete PoI" description="Removes a point or more point of interests from the map." actionlabel="Map Viewer Delete PoI" friendcode="poi"/>
    <inputendpoint name="poiInputCenter" type="text" label="Insert/Update Centered PoI" description="Insert or update a PoI and change the viewport centering the map on it" actionlabel="Map Viewer Centered PoI" friendcode="poi"/>
    <inputendpoint name="selectPoiInput" type="text" label="Select PoI" description="Select a PoI and change the viewport centering the map on it" actionlabel="Map Viewer Select PoI" friendcode="poi"/>
    <inputendpoint name="input" type="text" label="Data in" description="Data Input. See the documentation for more information" friendcode="googlecharts-graph-data-in"/>
    <inputendpoint name="dataset" type="text" label="Data and Structure" description="A JSON with two fields: structure (for the structure of the data) and data (the data ifself)" actionlabel="Data and Structure" friendcode="dataset"/>
    <inputendpoint name="selected-row" type="text" label="Row selection" description="This event is sent every time a row is selected" friendcode="data-table-row"/>
    <inputendpoint name="dataset" type="text" label="Data and Structure" description="A JSON with two fields: structure (for the structure of the data) and data (the data ifself)" actionlabel="Data and Structure" friendcode="dataset"/>
  </wiring>
</mashup>
